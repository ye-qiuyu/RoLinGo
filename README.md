# RoLinGo - README

## 项目简介

RoLinGo 是一款基于 AI 技术的英语口语练习应用，通过图片识别场景，生成符合不同情境的地道表达，同时提供多种风格化角色选择，帮助用户自信开口，提升真实场景下的英语表达能力。项目采用移动端优先的Web开发策略，专注于提供最佳的移动端用户体验。

[... 保留原有内容 ...]

### AI 服务实现细节

#### 1. AWS Rekognition（物体检测）
- **功能**：精确识别图片中的物体和位置
- **实现流程**：
  - 图片预处理：转换为 base64 格式
  - 设置识别参数：最多50个标签，最低置信度70%
  - 返回结果：包含关键词、置信度和位置信息
  - 结果格式化：转换为百分比位置信息

#### 2. 关键词过滤系统
- **功能**：去除重复和相似的关键词
- **实现方式**：
  - 预定义相似关键词组（如人物、武器、建筑等）
  - 在每组中只保留置信度最高的关键词
  - 应用于 AWS 结果和检测结果

#### 3. OpenAI 增强（GPT-4）
- **功能**：深度理解图片内容，生成自然语言描述
- **实现流程**：
  - 输入：图片 + AWS 关键词（如有）
  - 处理：直接分析图片内容
  - 输出：
    * 详细的场景描述
    * 3-5个重要关键词
    * 场景类型分类
  - 格式处理：确保输出符合 JSON 格式

#### 4. 系统集成
- **数据流**：
  1. 图片上传 → AWS 识别
  2. 关键词过滤处理
  3. OpenAI 增强分析
  4. 结果整合展示
- **错误处理**：
  - AWS 识别失败时仍可使用 OpenAI 分析
  - 格式错误自动修复机制
  - 完整的错误日志记录
- **防重复分析机制**：
  - 使用 `useRef` 实现分析状态锁定
  - 分析过程中阻止重复请求
  - 图片切换时自动重置状态
  - 完整的状态日志记录

[... 保留其他原有内容 ...]
